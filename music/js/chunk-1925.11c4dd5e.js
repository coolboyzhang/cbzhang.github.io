(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1925"],{"06bc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={TALB:"album",TBPM:"bpm",TCOM:"composer",TCON:"genre",TCOP:"copyright",TDEN:"encoding-time",TDLY:"playlist-delay",TDOR:"original-release-time",TDRC:"recording-time",TDRL:"release-time",TDTG:"tagging-time",TENC:"encoder",TEXT:"writer",TFLT:"file-type",TIPL:"involved-people",TIT1:"content-group",TIT2:"title",TIT3:"subtitle",TKEY:"initial-key",TLAN:"language",TLEN:"length",TMCL:"credits",TMED:"media-type",TMOO:"mood",TOAL:"original-album",TOFN:"original-filename",TOLY:"original-writer",TOPE:"original-artist",TOWN:"owner",TPE1:"artist",TPE2:"band",TPE3:"conductor",TPE4:"remixer",TPOS:"set-part",TPRO:"produced-notice",TPUB:"publisher",TRCK:"track",TRSN:"radio-name",TRSO:"radio-owner",TSOA:"album-sort",TSOP:"performer-sort",TSOT:"title-sort",TSRC:"isrc",TSSE:"encoder-settings",TSST:"set-subtitle",TXXX:"user-defined-text-information",TYER:"year",WCOM:"url-commercial",WCOP:"url-legal",WOAF:"url-file",WOAR:"url-artist",WOAS:"url-source",WORS:"url-radio",WPAY:"url-payment",WPUB:"url-publisher",WAF:"url-file",WAR:"url-artist",WAS:"url-source",WCM:"url-commercial",WCP:"url-copyright",WPB:"url-publisher",COMM:"comments",USLT:"lyrics",APIC:"image",PIC:"image",IPLS:"involved-people-list",OWNE:"ownership"};t.default=a,t.FrameTypeValueMap={TXXX:"array",COMM:"array",USLT:"array"}},"15e1":function(e,t,r){"use strict";function a(e){var t,r,a=new FileReader,i=new Promise(function(e,a){t=e,r=a});return a.onload=function(){return t(new Uint8Array(a.result))},a.onerror=function(e){return r(e)},a.readAsArrayBuffer(e),i}function i(e){if(!e)throw new Error("Argument should be valid url string.");var t,r,a=new Promise(function(e,a){t=e,r=a}),i=new XMLHttpRequest;return i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(){i.response?t(new Uint8Array(i.response)):r("Empty response or other exceptions.")},i.onerror=function(e){return r(e)},i.send(),a}Object.defineProperty(t,"__esModule",{value:!0}),t.convertFileToBuffer=a,t.fetchFileAsBuffer=i},"1d62":function(e,t,r){"use strict";function a(){"function"!==typeof Uint8Array||Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},2679:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.upList.length?e._e():r("div",{staticClass:"text-center"},[r("el-upload",{ref:"upload",attrs:{drag:"",accept:".mp3, .m4a",action:"","show-file-list":"","auto-upload":!1,"http-request":e.uploadFun,multiple:""}},[r("i",{staticClass:"el-icon-upload"}),r("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),r("em",[e._v("点击上传")])])]),r("el-button",{staticClass:"mt_10",staticStyle:{width:"1200px"},attrs:{size:"large"},on:{click:e.submit}},[e._v("就这些")])],1),r("UploadInfo",{attrs:{list:e.upList}})],1)},i=[],n=r("2b14"),s=r("15e1");r("456d"),r("a322");r("ac6a"),r("28a5");function o(e){for(var t,r,a,i,n,s="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=e.byteLength,u=l%3,c=l-u,d=0;d<c;d+=3)n=e[d]<<16|e[d+1]<<8|e[d+2],t=(16515072&n)>>18,r=(258048&n)>>12,a=(4032&n)>>6,i=63&n,s+=o[t]+o[r]+o[a]+o[i];return 1==u?(n=e[c],t=(252&n)>>2,r=(3&n)<<4,s+=o[t]+o[r]+"=="):2==u&&(n=e[c]<<8|e[c+1],t=(16128&n)>>8,r=(1008&n)>>4,a=(15&n)<<2,s+=o[t]+o[r]+o[a]+"="),"data:image/jpeg;base64,"+s}var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"up-file-list"},e._l(e.upList,function(t,a){return r("div",{key:t.uid,staticClass:"up-file-item"},[r("div",{staticClass:"img-container"},[t.img?r("img",{staticClass:"file-img",attrs:{src:t.img}}):e._e(),r("div",{staticClass:"img-cover fc_blue",on:{click:function(t){e.changeCover(a)}}},[e._v("\n        换个图片\n        "),r("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"up-cover-"+a},on:{change:e.uploadImg}})])]),r("div",{staticClass:"info-container"},[r("div",{staticClass:"input-line"},[e._v("\n        歌名："),r("el-input",{staticClass:"input-box",model:{value:t.title,callback:function(r){e.$set(t,"title",r)},expression:"f.title"}}),e._v("\n        歌手："),r("el-input",{staticClass:"input-box",model:{value:t.artist,callback:function(r){e.$set(t,"artist",r)},expression:"f.artist"}})],1),r("div",{staticClass:"input-line"},[e._v("\n        专辑："),r("el-input",{staticClass:"input-box",model:{value:t.album,callback:function(r){e.$set(t,"album",r)},expression:"f.album"}}),e._v("\n        搜索："),r("el-input",{staticClass:"input-box",model:{value:t.search,callback:function(r){e.$set(t,"search",r)},expression:"f.search"}})],1),r("div",{staticClass:"input-line"},[e._v("\n        标签：\n        "),r("el-select",{staticClass:"input-tag",attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"考虑加下标签呗"},model:{value:t.tag,callback:function(r){e.$set(t,"tag",r)},expression:"f.tag"}},e._l(e.tags,function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})}))],1),t.uploading?e._e():r("el-button",{staticClass:"up-btn",on:{click:function(t){e.upload(a)}}},[e._v("上传吧")]),t.uploading?r("div",{staticClass:"up-progress"},[r("div",{staticClass:"up-progress-green",style:"width: "+t.progress+"%"}),r("div",{staticClass:"up-progress-num"},[e._v(e._s(t.progress)+"%")])]):e._e(),t.uploading?r("i",{class:t.className}):e._e()],1)])}))},u=[],c=(r("386d"),r("aa67")),d=r("42e1"),p={name:"uploadInfo",props:{list:Array},data:function(){return{upList:this.list,upCount:0,tags:this.$store.state.sysTags,selectIndex:0}},methods:{upload:function(e){var t=this.$store.state,r=this.upList[e];r.uploading=!0,r.className="icon-result el-icon-loading",c["a"].saveFile(r.file,function(e){var a={url:e.url,album:r.album,cover:r.img,title:r.title,artist:r.artist,search:r.search};c["a"].createBmob("MusicSongs",a,function(e){r.tag.forEach(function(r){t.sysSongs[r]||(t.sysTags.push(r),t.sysSongs[r]=[]),t.sysSongs[r].push(e.id)}),a.objectId=e.id,t.allSongs[e.id]=a,c["a"].setBmob("MusicTag",t.sysObjectId,{tags:t.sysSongs}),r.className="icon-result el-icon-success"})},function(e){r.progress=Object(d["a"])(e.loaded/e.total*100,2)})},changeCover:function(e){var t="up-cover-".concat(e),r=document.getElementById(t);this.selectIdex=e,r.click()},uploadImg:function(e){var t=this,r=new FileReader;r.readAsDataURL(e.path[0].files[0]),r.onload=function(){return t.upList[t.selectIndex].img=r.result}}}},f=p,v=(r("6a6e"),r("2877")),g=Object(v["a"])(f,l,u,!1,null,null,null);g.options.__file="UploadInfo.vue";var m=g.exports,y={name:"Upload",components:{UploadInfo:m},data:function(){return{img:"",upList:[]}},methods:{submit:function(){this.$refs.upload.submit()},uploadFun:function(e){var t=this;Object(s["convertFileToBuffer"])(e.file).then(n["parse"]).then(function(r){var a={file:e.file,title:r.title,album:r.album,artist:r.artist,isUp:!1,progress:0,uploading:!1,tag:[],className:"",search:""};r.image&&r.image.data&&(a.img=o(r.image.data)),t.upList.push(a)})}}},T=y,h=(r("7160"),Object(v["a"])(T,a,i,!1,null,null,null));h.options.__file="Upload.vue";t["default"]=h.exports},"2b14":function(e,t,r){"use strict";var a=this&&this.__assign||Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var i in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=this&&this.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&(r[a[i]]=e[a[i]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var n=r("c668");t.parseV1Tag=n.default;var s=r("628c");t.parseV2Tag=s.default;var o=r("1d62");function l(e){var t=n.default(e),r=s.default(e);if(!r&&!t)return!1;var o={version:!1},l=r||o,u=l.version,c=i(l,["version"]),d=t||o,p=d.version,f=i(d,["version"]),v=a({version:{v1:p,v2:u}},f,c);return f.comments&&(v.comments=[{value:f.comments}].concat(c&&c.comments?c.comments:[])),v}o.default(),t.parse=l},"386d":function(e,t,r){r("214f")("search",1,function(e,t,r){return[function(r){"use strict";var a=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,a):new RegExp(r)[t](String(a))},r]})},"46b8":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=String.fromCharCode;function i(e,t){t=null==t||t<0?e.length:Math.min(t,e.length);var r=0;239===e[0]&&187===e[1]&&191===e[2]&&(r=3);for(var i=[],n=0;r<t;n++){var s=e[r++],o=void 0,l=void 0,u=void 0,c=void 0;if(0===s)break;s<128?i[n]=a(s):s>=194&&s<224?(o=e[r++],i[n]=a(((31&s)<<6)+(63&o))):s>=224&&s<240?(o=e[r++],l=e[r++],i[n]=a(((15&s)<<12)+((63&o)<<6)+(63&l))):s>=240&&s<245&&(o=e[r++],l=e[r++],u=e[r++],c=((7&s)<<18)+((63&o)<<12)+((63&l)<<6)+(63&u)-65536,i[n]=a(55296+(c>>10),56320+(1023&c)))}return i.join("")}function n(e,t,r){r=null==r||r<0?e.length:Math.min(r,e.length);var i=0,n=1,s=0;254===e[0]&&255===e[1]?(t=!0,i=2):255===e[0]&&254===e[1]&&(t=!1,i=2),t&&(n=0,s=1);for(var o,l,u,c,d,p,f=[],v=0;i<r;v++){if(o=e[i+n],l=e[i+s],u=(o<<8)+l,i+=2,0===u)break;o<216||o>=224?f[v]=a(u):(d=e[i+n],p=e[i+s],c=(d<<8)+p,i+=2,f[v]=a(u,c))}return f.join("")}function s(e,t){t=null==t||t<0?e.length:Math.min(t,e.length);for(var r=[],i=0;i<t;i++)r.push(a(e[i]));return r.join("")}function o(e,t,r){return 0===t?s(e,r):3===t?i(e,r):1===t||2===t?n(e,void 0,r):null}function l(e,t,r){void 0===r&&(r=0);for(var a=0===t?function(t){return 0===e[t]}:function(t){return 0===e[t]&&0===e[t+1]},i=r;i<e.length;i++)if(a(i))break;return i}function u(e,t){for(var r=t;;r++){if(0!==e[r])break;t++}return t}t.readBytesToUTF8=i,t.readBytesToUTF16=n,t.readBytesToISO8859=s,t.readBytesToString=o,t.getEndpointOfBytes=l,t.skipPaddingZeros=u},"628c":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("06bc"),i=r("8cbb"),n=r("d3de"),s=r("46b8"),o=20;function l(e){if(!e||e.length<o)return!1;var t=u(e.slice(0,10));if(!t)return!1;var r=t.version.flags;if(r.unsync)throw new Error("no support for unsynchronisation");var a=10;r.xheader&&(a+=c(e.slice(10,14)));var i=c(e.slice(6,10));return p(e.slice(a,i+a),t),t}function u(e){if(!e||e.length<10)return!1;var t=s.readBytesToUTF8(e,3);if("ID3"!==t)return!1;var r=e[5],a={major:2,minor:e[3],revision:e[4],flags:{unsync:0!==(128&r),xheader:0!==(64&r),experimental:0!==(32&r)}};return{version:a}}function c(e){return 2097152*(127&e[0])+16384*(127&e[1])+128*(127&e[2])+(127&e[3])}function d(e){return e.length<4?0:16777216*e[0]+65536*e[1]+256*e[2]+e[3]}function p(e,t){var r=0,i=t.version;while(r<e.length){var n=d(e.slice(r+4));if(0===n)break;var s=e.slice(r,r+10+n);if(!s.length)break;var o=f(s,i.minor,n);o.tag&&("array"===a.FrameTypeValueMap[o.id]?t[o.tag]?t[o.tag].push(o.value):t[o.tag]=[o.value]:t[o.tag]=o.value),r+=s.length}}function f(e,t,r){var o={id:null,tag:null,value:null},l={id:s.readBytesToUTF8(e,4),type:null,size:r,flags:[e[8],e[9]]};if(l.type=l.id[0],o.id=l.id,0!==l.flags[1])return o;if(!(l.id in a.default))return o;o.tag=a.default[l.id];var u=0,c=0,d=0,p=0;if("T"===l.type){if(u=e[10],"TXXX"===l.id){c=11,d=s.getEndpointOfBytes(e,u,c)-c;var f={description:s.readBytesToString(e.slice(c),u,d),value:""};c+=d+1,c=s.skipPaddingZeros(e,c),f.value=s.readBytesToString(e.slice(c),u),o.value=f}else if(o.value=s.readBytesToString(e.slice(11),u),"TCON"===l.id&&null!==o.value)if("("===o.value[0]){var v=o.value.match(/\(\d+\)/g);v&&(o.value=v.map(function(e){return i.default[+e.slice(1,-1)]}).join(","))}else{var g=parseInt(o.value,10);isNaN(g)||(o.value=i.default[g])}}else if("W"===l.type)"WXXX"===l.id&&0===e[10]?o.value=s.readBytesToISO8859(e.slice(11)):o.value=s.readBytesToISO8859(e.slice(10));else if("COMM"===l.id||"USLT"===l.id){u=e[10],c=14,d=0;var m=s.readBytesToISO8859(e.slice(11),3);d=s.getEndpointOfBytes(e,u,c)-c;var y=s.readBytesToString(e.slice(c),u,d);c=s.skipPaddingZeros(e,c+d+1),o.value={language:m,description:y,value:s.readBytesToString(e.slice(c),u)}}else if("APIC"===l.id){u=e[10];var T={type:null,mime:null,description:null,data:null};for(c=11,d=s.getEndpointOfBytes(e,0,c)-c,T.mime=s.readBytesToString(e.slice(c),0,d),T.type=n.default[e[c+d+1]]||"other",c+=d+2,d=0,p=c;;p++)if(0===e[p]){d=p-c;break}T.description=0===d?null:s.readBytesToString(e.slice(c),u,d),c=s.skipPaddingZeros(e,c+d+1),T.data=e.slice(c),o.value=T}else if("IPLS"===l.id)u=e[10],o.value=s.readBytesToString(e.slice(11),u);else if("OWNE"===l.id){u=e[10],c=11,d=s.getEndpointOfBytes(e,u,c);var h=s.readBytesToISO8859(e.slice(c),d);c+=d+1;var b=s.readBytesToISO8859(e.slice(c),8);c+=8,o.value={pricePayed:h,dateOfPurch:b,seller:s.readBytesToString(e.slice(c),u)}}return o}t.default=l,t.calcTagSize=c,t.calcFrameSize=d},"6a6e":function(e,t,r){"use strict";var a=r("e30e"),i=r.n(a);i.a},7160:function(e,t,r){"use strict";var a=r("97fa"),i=r.n(a);i.a},"8cbb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop / Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast  Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Rock/Pop"]},"97fa":function(e,t,r){},c668:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("8cbb"),i=r("46b8"),n=128;function s(e){if(!e||e.length<n)return!1;e=e.slice(e.length-n);var t={version:{major:1,minor:0}},r=i.readBytesToUTF8(e,3);if("TAG"!==r)return!1;var s=/(^[\s0]+|[\s0]+$)/;return t.title=i.readBytesToUTF8(e.slice(3),30).replace(s,""),t.artist=i.readBytesToUTF8(e.slice(33),30).replace(s,""),t.album=i.readBytesToUTF8(e.slice(63),30).replace(s,""),t.year=i.readBytesToUTF8(e.slice(93),4).replace(s,""),0===e[125]?(t.comments=i.readBytesToUTF8(e.slice(97),28).replace(s,""),t.version.minor=1,t.track=e[126]):t.comments=i.readBytesToUTF8(e.slice(97),30).replace(s,""),t.genre=a.default[e[127]]||"",t}t.default=s},d3de:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["other","file-icon","icon","cover-front","cover-back","leaflet","media","artist-lead","artist","conductor","band","composer","lyricist-writer","recording-location","during-recording","during-performance","screen","fish","illustration","logo-band","logo-publisher"]},e30e:function(e,t,r){}}]);
//# sourceMappingURL=chunk-1925.11c4dd5e.js.map