webpackJsonp([12],{"./app/containers/KitIndex/index.js":function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;switch(arguments[1].type){case O:default:return e}}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},w,this)}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){return{queryKitBoxes:function(){return e(Object(B.d)(["kit"]))},getBoxInfo:function(t){return e(Object(B.a)(t))}}}Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/_react@16.5.2@react/index.js"),f=n.n(l),p=(n("./node_modules/_prop-types@15.5.10@prop-types/index.js"),n("./node_modules/_react-redux@5.0.5@react-redux/es/index.js")),d=n("./node_modules/_react-helmet@5.1.3@react-helmet/lib/Helmet.js"),b=n("./node_modules/_reselect@3.0.1@reselect/es/index.js"),y=n("./node_modules/_redux@3.6.0@redux/es/index.js"),m=n("./app/utils/injectSaga.js"),j=n("./app/utils/injectReducer.js"),x=function(e){return e.get("kitIndex")},v=function(){return Object(b.a)(x,function(e){return e.toJS()})},h=v,_=n("./app/containers/App/selectors.js"),g=n("./node_modules/_immutable@3.8.1@immutable/dist/immutable.js"),O="app/KitIndex/DEFAULT_ACTION",k=Object(g.fromJS)({}),I=r,w=regeneratorRuntime.mark(o),B=n("./app/containers/App/actions.js"),S=n("./app/utils/recentlyUsed.js"),A=n("./app/utils/arrayHelper.js"),R=n("./app/utils/Storage.js"),U=n("./app/components/BoxesComponent/index.js"),P=n("./node_modules/_antd@3.5.2@antd/lib/index.js");n.d(t,"KitIndex",function(){return C});var E=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&i)for(var a in i)void 0===n[a]&&(n[a]=i[a]);else n||(n=i||{});if(1===s)n.children=o;else if(s>1){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+3];n.children=u}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),q=E(d.Helmet,{},void 0,E("title",{},void 0,"没用的工具"),E("meta",{name:"soso",content:"没用的工具"})),C=function(e){function t(e){s(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={boxes:e.boxes.kit||[]},n}return u(t,e),T(t,[{key:"componentWillMount",value:function(){this.getBoxInfo()}},{key:"getRecentlyUsed",value:function(){var e=this,t=this.props.user;R.a.queryBmob("RecentlyUsed",function(e){return e.equalTo("userId",t.objectId),e},function(n){if(n){var r=S.a.get("kit",n,e.state.boxes),o=A.a.delDuplicateObj([].concat(i(r),i(e.props.boxes.kit)),["name"]);e.setState({boxes:o})}else R.a.createBmob("RecentlyUsed",{userId:t.objectId,value:"{}"})})}},{key:"getBoxInfo",value:function(){var e=this;this.state.boxes.length?this.getRecentlyUsed():R.a.queryBmob("BoxInfo",void 0,function(t){var n={};t.forEach(function(e){n[e.type]||(n[e.type]=[]),n[e.type].push(e)}),e.props.getBoxInfo(n),e.setState({boxes:n.kit},e.getRecentlyUsed)},function(){P.message.error("获取基本信息失败")},"find")}},{key:"render",value:function(){var e=this.state.boxes;return E("div",{},void 0,q,E("div",{},void 0,e.map(function(e,t){return E(U.a,{boxInfo:e},"kit-box-"+t)})))}}]),t}(f.a.Component),K=Object(b.b)({kitindex:h(),boxes:Object(_.a)(),user:Object(_.b)()}),H=Object(p.b)(K,c),J=Object(j.a)({key:"kitIndex",reducer:I}),D=Object(m.a)({key:"kitIndex",saga:o});t.default=Object(y.c)(J,D,H)(C)}});